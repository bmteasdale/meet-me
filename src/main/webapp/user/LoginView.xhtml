<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                template="/template/_template.xhtml">
    <ui:define name="metaInfo">
        <!--<f:event type="preRenderView" listener="#{navi.registerPage('Login', '/user/LoginView.xhtml')}"/>--> 
        <!--<f:event type="postAddToView" listener="#{userLoginBean.welcomeJustRegistered()}"></f:event>-->     
    </ui:define>
    <ui:define name="centerpane">
        <p:layout id="layout">
            <p:layoutUnit position="center" collapsible="true" gutter="0">
                
                <!-- Navigation Bar -->
                <nav class="navbar navbar-expand-lg navbar-light bg-light" style="font-family: Raleway">
                    <div class="container-fluid">
                      <a class="navbar-brand" href="/meet-me">MeetMe</a>
                      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                      </button>
                      <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
                        <div class="navbar-nav" style="font-family: Raleway; font-weight: bold;">              
                          <a class="nav-link" href="/meet-me/user/LoginView.xhtml">Login</a>
                          <a class="nav-link" href="/meet-me/user/RegisterView.xhtml">Register</a>
                        </div>
                      </div>
                    </div>
                </nav>
                
                <!-- Login Form -->
                <h:form style="font-family: Raleway; margin: 0 auto; width: 50%; text-align: center;">
                    <img src="../resources/images/secure_login.png" alt="secureLogin" style="height: 200px;"/>
                    
                        <br/><br/>
                        <h2 style="font-weight: bold">Welcome to MeetMe</h2><br/>
                        <h3>Login</h3><br/>
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><i class="fa fa-user"></i></span>
                            <h:inputText 
                                id="username"
                                value="#{userBean.username}"
                                class="form-control" 
                                a:placeholder="Username" 
                                required="true"/>
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><i class="fa fa-lock"></i></span>
                            <h:inputSecret 
                                id="password"
                                value="#{userBean.password}"
                                class="form-control" 
                                a:placeholder="Password" 
                                required="true"/>
                        </div>
                        <h:commandButton 
                            value="Login" 
                            class="btn btn-primary" 
                            accesskey="" actionListener="#{userBean.showLoginMessage()}"
                            action="#{userBean.loginValidation(userBean.username, userBean.password)}" 
                        />
                        <br/>
                        <br/>
                        <hr style="margin: 0 auto; width: 75%"/>
                        <br/>
                        <div>
                            <p>Don't already have an account?</p>
                            <h:button value="Create New Account" class="btn btn-primary" outcome="register"></h:button>
                        </div>
                    <br/>
                <br/><br/>
                </h:form>
            </p:layoutUnit>
        </p:layout>
    </ui:define>
</ui:composition>
